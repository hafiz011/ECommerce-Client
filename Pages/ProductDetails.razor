@* @page "/product/{Id}"
@using Ecommerce.Client.Models
@using Ecommerce.Client.Services
@inject ProductService ProductService
@inject NavigationManager Navigation

<h3>Product Details</h3>

@if (product == null)
{
    <p>Loading...</p>
}
else
{
    <div class="card p-3">
        <img src="@((product.Images.FirstOrDefault() ?? "https://via.placeholder.com/400"))"
             class="mb-3" style="max-height:300px;object-fit:cover;" />
        <h4>@product.Name</h4>
        <p>@product.Description</p>
        <h5>৳@product.Price</h5>
        <button class="btn btn-secondary" @onclick="Back">Back</button>
    </div>
}

@code {
    [Parameter] public string? Id { get; set; }
    private ProductDto? product;

    protected override async Task OnInitializedAsync()
    {
        if (!string.IsNullOrEmpty(Id))
            product = await ProductService.GetByIdAsync(Id);
    }

    void Back() => Navigation.NavigateTo("/products");
} *@
